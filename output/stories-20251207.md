# Hacker News 故事摘要 - 2025-12-07

## 今日概述

Today’s top Hacker News stories cover strict coding rules for fighter jets, the limits of AI in web design, and why software estimates are hard. Other stories look at new AI memory research, dollar store price tricks, a slow Scala 3 migration, an easy guide to Fourier Transforms, creative dice games, home science, and NSA surveillance. The main themes are trust in software, new AI ideas, and keeping things fair and safe in both tech and daily life.

---

## F-35 Fighter Jet's C++ Coding Standards [pdf]

- 原文链接: [F-35 Fighter Jet's C++ Coding Standards [pdf]](https://www.stroustrup.com/JSF-AV-rules.pdf)
- HN链接: [Hacker News讨论](https://news.ycombinator.com/item?id=46185393)

This document is about the coding standards for C++ used in the F-35 Joint Strike Fighter program. The goal is to make the code safe, testable, reliable, and easy to maintain.

The rules are strict because the code controls a fighter jet, so mistakes could be dangerous. The standards follow other safety rules from the car and aviation industries, like MISRA and DO-178B. There are rules about how to write code, how to name things, which C++ features to use, and which to avoid. For example, every function must be simple (less than 200 lines), not too complex, and no self-modifying code is allowed. The use of certain C++ features like unions, bit-fields, and some standard libraries is forbidden because they can be unsafe or hard to test. All variables must be initialized before use. The code must be portable, so things that depend on the compiler or OS should be avoided. There are many rules about how to use classes, inheritance, and templates safely. Naming rules say, for example, that class names start with uppercase, variables are lowercase, and acronyms are all uppercase. Comments are required to explain code, but only in a useful way, not just repeating what the code says. There are also rules for how to use pointers, avoid hidden bugs, and make sure resources are freed correctly. If someone wants to break a rule, they need special approval and must document it.

In the Hacker News comments, many people found the document very detailed and strict, which they expected for code running on a fighter jet. Some said these rules are too much for normal projects but make sense for safety-critical software. A few mentioned that following so many rules can slow down development and make the code harder to write, but others replied that safety is more important than speed in this case. Some users joked about how much C++ is restricted—almost like writing C with some C++ features. Others liked the naming conventions and clear structure. There was discussion about avoiding dangerous C++ features, and some thought it was sad that the language needs so many rules to be safe. A few said that modern C++ (after 2005) has better features for safety, but big projects like this move slowly and keep old standards. There was also curiosity about whether the code is auto-checked for these rules, and some guessed there are tools for this. Overall, people respected the effort, even if they would not want to work with so many restrictions in their own code.

---

## I failed to recreate the 1996 Space Jam Website with Claude

- 原文链接: [I failed to recreate the 1996 Space Jam Website with Claude](https://j0nah.com/i-failed-to-recreate-the-1996-space-jam-website-with-claude/)
- HN链接: [Hacker News讨论](https://news.ycombinator.com/item?id=46183294)

The article talks about trying to use Claude, an AI, to rebuild the famous 1996 Space Jam website using just a screenshot and the original image files. The writer wanted to perfectly copy the website’s look and feel, but no matter what tools or tricks he tried, Claude couldn’t do it.

The Space Jam website is a simple, colorful page from the early days of the web. The main challenge is placing planets and labels in the same exact spots as the original, using absolute pixel coordinates. The writer gave Claude lots of help: screenshots, assets, grid overlays, and even scripts to help measure things. Claude would make guesses about where things should go, sometimes sounding very confident, but the results were always off. Even when Claude used tools like grids and side-by-side comparisons, the layouts he made were never a close match. Sometimes, Claude would claim he had made a perfect copy, but the planets and labels were still in the wrong places.

The article explains that Claude seems good at understanding the big picture (“these are planets, they go in a circle”), but not the small details. Claude can’t measure exact pixel positions from an image, so his results are always rough. The writer thinks this is because Claude “sees” images in big blocks, not as exact pixels, so fine details get lost. Even when given a zoomed-in image, Claude still didn’t improve. The writer tried breaking the problem into smaller parts, but nothing worked. In the end, he gave up, saying the 1996 Space Jam site is still undefeated.

In the comments, many people agree this is a fun but tough problem. Some say it shows the limits of current AI models for working with exact images and layouts. Others point out that humans use special tools for pixel-perfect work, and maybe AI just isn’t built for this yet. A few suggest that Claude’s vision system just isn’t made for measuring things, only for recognizing objects. Some think this is a good reminder that “old” technology, like hand-crafted web pages, still has value. Others joke that maybe the AI just needs better prompts or more training. There are also comments about how hard it is to preserve digital history, and how important it is to save these old sites. A few hopeful readers suggest breaking the page into smaller pieces or using different AI models, but most agree this is a tricky task for any AI today.

---

## Estimates are difficult for developers and product owners

- 原文链接: [Estimates are difficult for developers and product owners](https://thorsell.io/2025/12/07/estimates.html)
- HN链接: [Hacker News讨论](https://news.ycombinator.com/item?id=46184229)

This article is about why software estimates are so hard for both developers and product owners, and why both sides often get frustrated. The writer explains that product owners need estimates to plan which features to build and when to release new versions, because there are always more ideas than time to build them. If product owners don’t have estimates, they might pick big features that can’t be finished on time, missing deadlines and causing problems for the business. On the other hand, developers dislike giving estimates because they often feel like guesses, especially when unexpected problems come up—like old code that’s hard to change or technical debt that slows everything down.

Technical debt is a big reason for conflict. Developers want to fix problems in the code when they find them, but product owners may not see why this matters. When developers rush to finish features without cleaning up old messes, those problems pile up and get worse over time. The writer shares a story about a “two-day” task turning into two weeks because of hidden issues, showing how hard it is to guess the real effort needed.

Developers also hate when their estimates are turned into strict deadlines. Instead of being used as rough guesses, estimates often become promises. When deadlines are missed, people get upset, so developers start padding their estimates for safety. This makes the whole process less honest and more frustrating for everyone.

The article points out that the real problem is about expectations. Sometimes companies set release dates or promise features before the work even starts, putting pressure on everyone. The writer suggests it would be better if companies stopped announcing features early and let developers work at a steady pace, but knows that’s not always possible—sometimes, business needs mean deadlines matter.

In the comment section, some readers agree that estimates are a necessary evil, but say communication is key—if developers keep product owners updated, things go better. Others argue that estimates will always be rough because software is unpredictable, and suggest focusing on small, regular releases instead of big launches. A few people share their own stories of estimates being used against them, leading to stress and bad feelings in the team. Some product owners in the comments say they understand developers’ pain, but still need some way to plan and talk to other parts of the business. There are also suggestions to use “range estimates” (like “one to three weeks”) or to estimate in “story points” instead of days, so it feels less like a promise. A few developers say they just refuse to estimate, but others say that’s not realistic and can make things worse. One comment points out that technical debt should be tracked and discussed openly, not hidden, so it can be factored into planning. Finally, some readers mention that no process is perfect, but more trust and honesty between teams can help everyone work better together.

---

## Google Titans architecture, helping AI have long-term memory

- 原文链接: [Google Titans architecture, helping AI have long-term memory](https://research.google/blog/titans-miras-helping-ai-have-long-term-memory/)
- HN链接: [Hacker News讨论](https://news.ycombinator.com/item?id=46181231)

Google has shared new research about Titans and MIRAS, two ideas to help AI models remember things for a long time, even when working with huge amounts of information. The main problem is that usual AI models, like transformers, are very good at remembering short-term things but struggle with long-term memory since it needs a lot of computer power as the input grows.

The article explains that older models like RNNs are fast but can’t remember enough details from long inputs, while transformers are accurate but slow and expensive with big data. Titans is a new type of AI architecture that mixes the speed of RNNs with the memory power of transformers. Titans uses a deep neural network as its memory, which means it can process and store more complicated information over time. MIRAS is the theory behind Titans, giving a blueprint for how to design these kinds of memory systems.

A special feature in Titans is the “surprise metric.” This means the AI pays the most attention to things that are unexpected or different from what it already knows. For example, if the AI is reading a boring report and suddenly sees something strange, it will flag and remember that surprising thing. This helps the AI avoid storing too much unimportant data and keeps memory efficient. Titans also uses “momentum” to keep track of what’s been surprising recently and “weight decay” to forget old or less important information.

MIRAS helps researchers think about memory in AI differently. Instead of just using simple math rules like mean squared error, MIRAS lets designers use more flexible ways to teach the AI what to remember, what to forget, and how to update its memory. The article describes new models (YAAD, MONETA, MEMORA) that use these ideas to avoid problems like reacting too much to outliers or messy data.

In tests, Titans and its MIRAS-based friends beat other famous models (like Mamba-2 and Transformer++) on tasks involving very long documents, DNA data, and reasoning. Titans works well even when remembering over 2 million words, which is much more than older models can handle. The research shows that having a “deeper” memory (more layers in the neural network) gives the AI better recall and more accurate results over long sequences.

In the Hacker News comments, many people are excited about the progress in long-term memory for AI, saying it could finally let AI work with entire books or big codebases. Some users ask if this will help AI remember past conversations or user preferences better. Others are cautious, saying that more powerful memory also means there’s a risk of privacy leaks—AI could remember personal data for too long. A few are curious about how this compares to “external memory” systems, where information is stored outside the main AI model.

Some commenters wonder if these improvements will be open-sourced or only stay inside Google. There’s debate about how much these architectures will actually help in real-world products, or if they are still just research ideas. A few users discuss the technical details, saying they like the move away from fixed-size memory and simple math penalties, while others ask for more benchmarks and practical examples. One comment points out that making memory more human-like—remembering only surprising or important events—could make AI more useful but also harder to control. Overall, people see this as a big step forward, but they want to see more tests and real applications.

---

## Dollar-stores overcharge cash-strapped customers while promising low prices

- 原文链接: [Dollar-stores overcharge cash-strapped customers while promising low prices](https://www.theguardian.com/us-news/2025/dec/03/customers-pay-more-rising-dollar-store-costs)
- HN链接: [Hacker News讨论](https://news.ycombinator.com/item?id=46181962)

This article looks at how dollar stores like Family Dollar and Dollar General say they offer low prices, but often charge customers more at the checkout than the price on the shelf. Inspectors found many items ringing up higher than the shelf price, sometimes by several dollars, and these mistakes happen a lot, especially in stores in low-income areas.

The article explains that in North Carolina, one Family Dollar store failed four inspections in a row, with about 23% of items scanned costing more at the register. Across the U.S., thousands of these stores have failed pricing inspections, sometimes with error rates as high as 76%. Many stores are repeat offenders, but fines are small, so stores have little reason to fix the problem. Some states do not check prices at all, so the problem is often hidden.

The main reason for overcharging is that registers are updated automatically, but workers must manually change shelf tags. Dollar stores often do not have enough staff to keep up. Many customers do not notice the higher prices, or they cannot do anything about it if the cashier refuses to help. Sometimes, stores even create fake sales, showing a discount when the price was never higher.

People who shop at these stores, like seniors or those without cars, often have no choice because other stores are far away or too expensive. Overcharges, even small ones, hurt people on tight budgets. Some states have sued these companies, and there have been settlements, but mistakes still happen. Workers say they are overworked and cannot keep up with all the tasks, leading to more errors.

Now, let's look at what people on Hacker News said about this article. Some commenters were angry at the stores, saying it is unfair to take advantage of poor customers. Others pointed out that updating tags by hand is a huge task, and with few workers, mistakes are likely. A few people said that shoppers need to pay more attention, but others replied that not everyone can do this, especially older people or parents with kids.

Some users wondered if stronger laws or bigger fines would help fix the problem. Others thought that the whole business model of dollar stores depends on low-income areas with few choices, so problems will continue. One commenter suggested that technology, like electronic shelf labels, could help match prices better, but others said it would cost too much for these stores.

A few comments shared personal stories of being overcharged and having trouble getting refunds. One person said that even small overcharges add up a lot over time, especially for families. Some users said this is not just a U.S. problem; they have seen similar issues in other countries.

Others debated whether the problem is on purpose or just because the stores are poorly run. Some thought it is a mix of both—stores do not try to fix it because it makes them more money. Finally, a few people said that customers should complain more or shop elsewhere, but most agreed that for many, there is just no other option.

---

## Scala 3 slowed us down?

- 原文链接: [Scala 3 slowed us down?](https://kmaliszewski9.github.io/scala/2025/12/07/scala3-slowdown.html)
- HN链接: [Hacker News讨论](https://news.ycombinator.com/item?id=46182202)

This article talks about moving a service from Scala 2.13 to Scala 3 and seeing unexpected slowdowns. The author explains that the slowdown was not because of Scala itself, but because of changes in how libraries work with the new version.

The team updated the code and dependencies, fixed some syntax, and everything seemed to work. Tests passed, the service ran fine in local and test environments, and even the first part of the rollout looked good. But after running for a few hours, they saw a problem: Kafka lag went up, meaning the service was slower at processing data. This was strange because the amount of data was normal. Rolling back to Scala 2.13 fixed the slowdown.

Trying to find the cause, the author did load testing but didn’t see the problem at first. Only when they used more varied data did the slowdown show up. They guessed it might be a library issue, so they changed major libraries one by one—serialization, database, Docker image, and config—but nothing helped.

Next, they used a tool to profile the CPU and saw that, in Scala 3, most CPU time went to the JIT compiler and to decoding messages. The flamegraph (a chart showing where the program spends time) showed that the “quicklens” library was now using a lot of CPU, while in Scala 2.13 it barely showed up. They found a bug in quicklens that made it slow in Scala 3. After updating the library, performance was the same as before.

The main lesson: even if your migration goes smoothly, libraries can behave very differently between Scala versions—especially if they use metaprogramming. Always benchmark and check performance, even if everything looks fine.

In the comments, many people agreed that library changes can cause hidden problems when upgrading languages. Some said this story is common in software: things look fine until a real workload is used. Others suggested that every big migration should include careful load testing and profiling. A few pointed out that performance bugs are often not in your own code, but in libraries or dependencies you don’t think about.

Some commenters were surprised that a small library like quicklens could have such a big effect on performance. Others shared similar migration stories, where a single library slowed things down. A couple of people said this shows why you should keep dependencies simple and up to date. Some asked if the Scala team could do more to help library authors catch these issues earlier. Finally, a few said this is a good reminder to never trust that “all tests passed” means “everything is OK”—real-world use is always different.

---

## An Interactive Guide to the Fourier Transform

- 原文链接: [An Interactive Guide to the Fourier Transform](https://betterexplained.com/articles/an-interactive-guide-to-the-fourier-transform/)
- HN链接: [Hacker News讨论](https://news.ycombinator.com/item?id=46118358)

This article explains the Fourier Transform by using simple ideas and everyday language. The main idea is that the Fourier Transform helps you find the "recipe" behind a signal, just like you could figure out the ingredients in a smoothie.

Instead of jumping into hard math, the article uses an analogy: if you have a smoothie, you can use filters to figure out how much banana, orange, milk, and water are inside. Each filter only finds one ingredient, and together, they give you the full recipe. In math, the Fourier Transform is like using filters to find out which cycles (like circles moving at different speeds) make up a signal. You can break any time-based pattern into a mix of cycles, each with its own speed, size (amplitude), and starting point (phase).

The article says this is useful because the recipe (the list of cycles) is easier to study, change, or compare than the original signal. For example, in sound, you can boost or cut certain frequencies (like bass or treble), and in images or files, you can keep only the important parts to save space (like in MP3 or JPEG files). The guide explains that cycles are just circles moving at different speeds, and you can add them together to rebuild any signal, even a sharp spike.

It also talks about the idea of phase (when a cycle starts), and shows how shifting the phase can move a spike in time. The article tries to build intuition with examples and interactive tools, rather than just showing equations. It ends by saying that understanding comes from simple analogies, and it’s okay if they are not perfect.

In the comments, many people praised the article for making a hard topic easy to understand. Some said the smoothie analogy made the concept "click" for them, while others liked the focus on cycles instead of just sine waves. A few users shared other resources or animations that helped them understand the Fourier Transform, like drawing shapes with epicycles.

Some commenters noted that while the analogies are helpful, they are not the whole story. They pointed out that real signals and transforms can get complicated, especially when dealing with noise or real-world data. A few people wished the article included more about continuous signals and advanced uses. Others debated whether thinking in terms of "ingredients" works for all kinds of signals, or if it might be confusing for beginners in some cases.

One commenter explained how they use the Fourier Transform in their job, such as filtering out unwanted noise in audio recordings. Another mentioned that the interactive parts were great for visual learners. Some wished for more code examples, but liked that the author linked to open-source code and R examples. Overall, most agreed that this article is a good starting point for anyone trying to get a feel for what the Fourier Transform really does.

---

## A two-person method to simulate die rolls

- 原文链接: [A two-person method to simulate die rolls](https://blog.42yeah.is/algorithm/2023/08/05/two-person-die.html)
- HN链接: [Hacker News讨论](https://news.ycombinator.com/item?id=46166161)

This article explains how two people can simulate rolling a six-sided die without any tools, just by picking numbers. The method was invented because the author and a friend wanted to play a dice game but had no real dice or working phones.

Here’s how it works: Both people each pick a number from 0 to 11 at the same time (like choosing “hours” on a clock). You then calculate the distance between these numbers on a clock face—so if one picks 2 and the other picks 10, the distance is 4. The result is mapped to a die roll: distances of 1, 2, 3, 4, and 5 map to rolls 1 through 5, while a distance of 0 or 6 both count as a roll of 6. This way, the results are close to the fair odds of a real die, with each outcome having about a 1-in-6 chance. The author checked the fairness using a simple computer program, running the process a million times and finding the results very even.

They also made a little game called “verbal tennis” using this method, where each player uses “stamina points” to affect the result, making a fun back-and-forth. The author points out that for the method to be as random as possible, each person should want different results—so one tries to get a high number, the other a low number. This keeps things fair and stops people from cheating.

The author admits the method is not perfect. It only works well for six-sided dice, it needs both people to actually want different results, and it's much easier just to use a real die if you have one. But it’s a clever trick for when you have nothing else.

In the comments, many people enjoyed the creativity and simplicity of the method. Some said they would use it for games when they don’t have dice. Others pointed out that humans are bad at picking random numbers, so the fairness could suffer if someone tries to trick the system. A few suggested other ways to make numbers more random, like using coin flips or Rock-Paper-Scissors. One commenter wondered if this method could be changed for dice with more sides, but most agreed it would get confusing with bigger numbers.

Some people discussed the math, agreeing that the mapping of clock positions is fair if both players pick honestly. One person said that if you trust each other, it’s a fun party trick, but not good for serious games or gambling. Others liked the idea as a way to pass time creatively, especially for kids or during travel. A few readers joked that the best “tool-less” die is still flipping a coin or just asking someone to think of a number. Overall, people respected the idea for its cleverness and found it a playful solution for a real-world problem.

---

## Build a DIY magnetometer with a couple of seasoning bottles

- 原文链接: [Build a DIY magnetometer with a couple of seasoning bottles](https://spectrum.ieee.org/listen-to-protons-diy-magnetometer)
- HN链接: [Hacker News讨论](https://news.ycombinator.com/item?id=46086923)

This article is about building a simple magnetometer at home using cheap materials like seasoning bottles and some wire. The magnetometer lets you “hear” the sound of protons spinning in water when exposed to Earth’s magnetic field.

The article explains that MRI machines work by using nuclear magnetic resonance (NMR) to detect the spins of hydrogen atoms, but these machines are big and expensive. A proton-precession magnetometer uses the same principle but works at lower frequencies and can be made cheaply. To make one, you need two empty plastic seasoning bottles, some magnet wire, a few simple electronic parts (like integrated circuits and a MOSFET), and water. You wrap wire around the bottles to make coils, fill them with water, and use both coils together to cancel out electrical noise from power lines. The circuit uses a battery to line up the spins of the protons in water, then quickly switches to “listening mode” to pick up their weak signal. The precessing protons create a tiny, changing voltage in the coils, which is amplified so you can hear it as a tone in headphones. The frequency of this tone tells you the strength of Earth’s magnetic field where you are. The magnetometer circuit uses a special MOSFET setup to prevent sparks when switching modes, and a “tank circuit” (coils plus a capacitor) to tune to the right frequency. The article gives tips for good results, like using more voltage for polarization and staying away from metal objects or indoors, since these can mess up the results. The author confirms the tone goes away if the water is removed, showing the signal is real.

In the comments, one user points out a small error in the shared schematic, clarifying a connection for anyone building the project. Another commenter shares their experience with electrical noise indoors, especially from LED light bulbs, and suggests using ferrite beads to suppress this interference. They mention this could help the magnetometer work indoors, not just outside, which is useful if the weather is bad. The comment shows how readers try to improve DIY projects and share practical advice from real-world troubleshooting. Overall, readers appreciate the low-cost, hands-on science and enjoy seeing classic physics made accessible. Some praise the project as a fun way to experiment with advanced science using simple materials. Others discuss possible upgrades or tweaks, like better shielding or alternative ways to reduce noise. There’s a sense that this project is both educational and a neat hobby for those interested in physics and electronics.

---

## XKeyscore

- 原文链接: [XKeyscore](https://en.wikipedia.org/wiki/XKeyscore)
- HN链接: [Hacker News讨论](https://news.ycombinator.com/item?id=46185060)

XKeyscore is a secret program made by the NSA to search and analyze internet data from all over the world. Edward Snowden brought it to public attention in 2013, showing how the NSA and partners in other countries use the system for spying.

The article explains that XKeyscore can collect emails, web traffic, chats, and more, from almost anyone, anywhere. Snowden and journalist Glenn Greenwald say the system lets analysts read emails, see browsing history, and track people by username or keywords, often without a court order. The NSA, however, says access to XKeyscore is controlled and only for foreign intelligence, with checks in place to stop misuse.

XKeyscore works by gathering internet data at many sites worldwide, using servers and databases running on Linux and Red Hat, with Apache and MySQL. The system gets its data from satellites, fiber cables, and hacking operations. It stores most of this data only for a few days because of the huge amounts collected. Analysts can search not just by address but also by keywords, languages, or behaviors, making it useful for finding people trying to hide or using encryption tools like Tor and VPNs. It can also mark people who visit privacy sites or read about security, sometimes flagging them for more surveillance.

The NSA says XKeyscore helped find terrorists and made their work more focused. Other countries, like Germany, Denmark, Japan, and members of the "Five Eyes," use XKeyscore too, sometimes even to spy on their allies. The article also mentions that gamification was used to encourage analysts to use the system more.

In the Hacker News comments, some people are shocked at the level of surveillance described. They talk about how easy it seems for low-level analysts to access private data, and they worry about abuse or lack of real oversight. A few users say this is why they use encryption or privacy tools, but others point out that using these tools might actually draw more attention from systems like XKeyscore.

Some commenters argue that such programs are needed to stop crime and terrorism, but many are not convinced. They feel the system is too broad and invades the privacy of normal people. There are jokes about how nothing online is private anymore, and a few people share tips to reduce tracking, though most agree that if the NSA wants your data, it is very hard to hide. Some users also discuss the technical side, like how so much data can be stored and searched, and wonder about the future of online privacy. Overall, the discussion is lively, with a mix of technical curiosity and serious concern about surveillance.

---

